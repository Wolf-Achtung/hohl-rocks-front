<!doctype html>
<html lang="de">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="color-scheme" content="dark" />
    <meta name="x-api-base" content="/api"/>
    <title>hohl.rocks — KI-gestützte Web-Experience</title>
    <meta name="description" content="Neon-Bubbles, Prompts, KI-Tipps & KI-News. Ruhig, klar, magisch-intuitiv." />

    <!-- Fonts & Styles -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/styles.css" />
    <link rel="stylesheet" href="/css/shimmer-effect.css" />
    <link rel="stylesheet" href="/css/spark.css" />

    <style>
      /* Hintergrund + Layering */
      html,body{height:100%;margin:0}
      .site-bg video.bg-video{position:fixed;inset:0;width:100%;height:100%;object-fit:cover;z-index:-2}
      #jelly-canvas{position:fixed;inset:0;width:100%;height:100%;display:block;z-index:0}
      #bubbles{position:relative;z-index:1}

      /* Minimales, eigenständiges Overlay-CSS (falls styles.css nichts liefert) */
      .overlay{position:fixed;inset:0;display:none;z-index:50}
      .overlay[data-open="1"]{display:grid;place-items:center}
      .overlay .backdrop{position:absolute;inset:0;background:rgba(0,0,0,.45)}
      .overlay .dialog{position:relative;width:min(920px,92vw);max-height:90vh;overflow:auto;border-radius:16px;
        background:rgba(2,6,23,.90);color:#e5e7eb;border:1px solid rgba(255,255,255,.18);padding:16px}
      .overlay .head{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}
      .overlay .close{appearance:none;border:0;background:transparent;color:#fff;font-size:22px;cursor:pointer}
      .tools{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:10px}
      .tools .chip{border-radius:999px;border:1px solid rgba(148,163,184,.5);background:transparent;color:#e5e7eb;padding:6px 10px;cursor:pointer}
      .tools .chip[data-active]{background:#334155}
      #tips-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:12px}
      #news{list-style:none;margin:0;padding:0;display:grid;gap:10px}
      .tip{border:1px solid rgba(255,255,255,.15);border-radius:12px;padding:12px;background:rgba(255,255,255,.05)}
      .tip .meta{display:flex;gap:10px;opacity:.8;font-size:12px;margin:.35rem 0}
      .tip .actions{display:flex;gap:8px;margin-top:.35rem}
      .hero-heading{margin:18vh 0 8px 0}
      input[type="search"]{width:100%;padding:10px 12px;border-radius:10px;border:1px solid rgba(148,163,184,.35);background:rgba(15,23,42,.5);color:#e5e7eb;margin-bottom:12px}
      textarea{width:100%;min-height:160px;border-radius:10px;border:1px solid rgba(148,163,184,.35);background:rgba(15,23,42,.5);color:#e5e7eb;padding:10px 12px}
      .btn-row{display:flex;gap:8px;margin-top:10px}
      .btn{appearance:none;border:1px solid rgba(148,163,184,.5);background:transparent;color:#e5e7eb;padding:8px 12px;border-radius:10px;cursor:pointer}
      .btn.primary{background:#4f46e5;border-color:#4f46e5}
    </style>
  </head>
  <body>
    <a class="skip-link" href="#main">Zum Inhalt springen</a>

    <div class="site-bg" aria-hidden="true">
      <video class="bg-video" autoplay muted loop playsinline preload="auto">
        <source src="./videos/road_720p_bg.webm" type="video/webm" />
        <source src="./videos/road_720p_bg.mp4" type="video/mp4" />
      </video>
    </div>

    <!-- Ambient Jelly Canvas -->
    <canvas id="jelly-canvas" aria-hidden="true"></canvas>

    <!-- Interaktive Bubbles -->
    <div id="bubbles" aria-hidden="false"></div>
    <ul id="bubble-labels" aria-hidden="true"></ul>

    <header class="site-header">
      <nav class="site-nav" aria-label="Hauptnavigation">
        <button class="nav-btn" data-action="tips" type="button">KI-Tipps</button>
        <button class="nav-btn" data-action="news" type="button">KI-News</button>
        <button class="nav-btn" data-action="daily" type="button">Spotlight</button>
        <button class="nav-btn" id="btn-eu" type="button" aria-pressed="false">EU: aus</button>
      </nav>
    </header>

    <main id="main" class="site-main" tabindex="-1">
      <h1 class="hero-heading shimmer">hohl.rocks</h1>
      <p class="hero-sub"></p>
    </main>

    <!-- Overlays, die dein app.js erwartet -->
    <div id="ov-tips" class="overlay" aria-hidden="true">
      <div class="backdrop" data-close></div>
      <section class="dialog" role="dialog" aria-labelledby="tips-title">
        <header class="head">
          <h2 id="tips-title">KI‑Tipps</h2>
          <button class="close" aria-label="Schließen" data-close>×</button>
        </header>
        <div id="tips-grid"></div>
      </section>
    </div>

    <div id="ov-news" class="overlay" aria-hidden="true">
      <div class="backdrop" data-close></div>
      <section class="dialog" role="dialog" aria-labelledby="news-title">
        <header class="head">
          <h2 id="news-title">KI‑News</h2>
          <button class="close" aria-label="Schließen" data-close>×</button>
        </header>
        <input id="news-search" type="search" placeholder="Thema suchen …"/>
        <ul id="news"></ul>
      </section>
    </div>

    <div id="ov-prompts" class="overlay" aria-hidden="true">
      <div class="backdrop" data-close></div>
      <section class="dialog" role="dialog" aria-labelledby="prompts-title">
        <header class="head">
          <h2 id="prompts-title">Prompt‑Galerie</h2>
          <button class="close" aria-label="Schließen" data-close>×</button>
        </header>
        <div class="tools">
          <button class="chip" data-filter="Alle" data-active>Alle</button>
          <button class="chip" data-filter="Business">Business</button>
          <button class="chip" data-filter="Tech">Tech</button>
          <button class="chip" data-filter="Kreativ">Kreativ</button>
        </div>
        <input id="prompt-search" type="search" placeholder="Prompts durchsuchen …"/>
        <div id="prompt-grid"></div>
      </section>
    </div>

    <div id="ov-run" class="overlay" aria-hidden="true">
      <div class="backdrop" data-close></div>
      <section class="dialog" role="dialog" aria-labelledby="run-title">
        <header class="head">
          <h2 id="run-title">Prompt ausführen</h2>
          <button class="close" aria-label="Schließen" data-close>×</button>
        </header>
        <textarea id="run-input" placeholder="Ihre Eingabe …"></textarea>
        <div class="btn-row">
          <button class="btn primary" type="button" data-action="run-now">Start</button>
          <button class="btn" type="button" data-copy="modal">Kopieren</button>
        </div>
      </section>
    </div>

    <div id="ov-impressum" class="overlay" aria-hidden="true">
      <div class="backdrop" data-close></div>
      <section class="dialog" role="dialog" aria-labelledby="imp-title">
        <header class="head">
          <h2 id="imp-title">Impressum</h2>
          <button class="close" aria-label="Schließen" data-close>×</button>
        </header>
        <div id="impressum-body"></div>
      </section>
    </div>

    <div id="ov-daily" class="overlay" aria-hidden="true">
      <div class="backdrop" data-close></div>
      <section class="dialog" role="dialog" aria-labelledby="daily-title">
        <header class="head">
          <h2 id="daily-title">Spotlight</h2>
          <button class="close" aria-label="Schließen" data-close>×</button>
        </header>
        <div id="daily-body">Lade Spotlight …</div>
      </section>
    </div>

    <!-- Sonstiges -->
    <div class="toast" id="toast" role="status" aria-live="polite"></div>

    <!-- Core Scripts -->
    <script type="module" src="/js/utils.js"></script>
    <script type="module" src="/js/api.js"></script>
    <script type="module" src="/js/bubbles-noise.js"></script>
    <script type="module" src="/js/app.js"></script>
    <script type="module" src="/js/audio.js"></script>
    <script type="module" src="/js/modal.a11y.js"></script>
    <!-- Today’s Spark (leise, robust) -->
    <script src="/js/spark-bubble.js" defer></script>
  </body>
</html>
