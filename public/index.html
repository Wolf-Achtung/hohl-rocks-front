<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>hohl.rocks</title>
  <meta name="color-scheme" content="dark"/>
  <meta name="x-api-base" content="/api"/>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="./styles.css">
</head>
<body>
  <div class="bg-wrap" aria-hidden="true">
    <video id="bgvid" autoplay muted playsinline loop poster="./videos/road_poster.jpg">
      <source src="./videos/road_720p_bg.webm" type="video/webm"/>
      <source src="./videos/road_720p_bg.mp4" type="video/mp4"/>
    </video>
  </div>

  <canvas id="bubble-canvas"></canvas>

  <nav class="nav" id="top-nav" role="navigation" aria-label="Hauptnavigation">
    <!-- will be replaced by /partials/nav.html at runtime -->
  </nav>

  <section class="hero" aria-label="Einführung">
    <div class="hero-card">
      <h1>hohl.rocks</h1>
      <p>Eine entspannte KI‑Experience mit Bubbles, Klang &amp; aktuellen Impulsen. Öffne <strong>News</strong> oder <strong>Daily</strong> oben rechts.</p>
    </div>
  </section>

  <!-- Overlays -->
  <div id="ov-news" class="overlay" aria-hidden="true">
    <div class="backdrop" data-close="1"></div>
    <div class="panel" role="dialog" aria-modal="true" aria-labelledby="ov-news-title">
      <header>
        <h2 id="ov-news-title">Aktuelle KI‑News</h2>
        <button class="close" data-close="1" aria-label="Schließen">Schließen ✕</button>
      </header>
      <div class="tags"><span class="tag" id="tag-api">API …</span><span class="tag" id="tag-news">News …</span></div>
      <div class="small">Quelle: Tavily</div>
      <ul class="list" id="news"></ul>
    </div>
  </div>

  <div id="ov-daily" class="overlay" aria-hidden="true">
    <div class="backdrop" data-close="1"></div>
    <div class="panel" role="dialog" aria-modal="true" aria-labelledby="ov-daily-title">
      <header>
        <h2 id="ov-daily-title">Daily</h2>
        <button class="close" data-close="1" aria-label="Schließen">Schließen ✕</button>
      </header>
      <div class="tags"><span class="tag" id="tag-daily">Daily …</span></div>
      <ul class="list" id="daily"></ul>
    </div>
  </div>

  <div id="ov-run" class="overlay" aria-hidden="true">
    <div class="backdrop" data-close="1"></div>
    <div class="panel" role="dialog" aria-modal="true" aria-labelledby="ov-run-title">
      <header>
        <h2 id="ov-run-title">Run</h2>
        <button class="close" data-close="1" aria-label="Schließen">Schließen ✕</button>
      </header>
      <div class="small">Sende einen kurzen Prompt an /api/run</div>
      <form id="run-form">
        <textarea id="run-input" rows="4" style="width:100%;margin:8px 0" placeholder="Frag mich etwas …"></textarea>
        <button type="submit">Absenden</button>
      </form>
      <pre id="run-out" style="white-space:pre-wrap"></pre>
    </div>
  </div>

  <div class="toast" id="toast" role="status" aria-live="polite"></div>

  <!-- JS -->
  <script type="module" src="./js/utils.js"></script>
  <script type="module" src="./js/api.js"></script>
  <script type="module" src="./js/app.js"></script>
  <script defer src="./js/audio.js"></script>
  <script defer src="./js/bubbleEngine.js"></script>
  <script defer src="./js/overlay.js"></script>
  <script defer src="./js/modal.js"></script>
</body>
</html>
