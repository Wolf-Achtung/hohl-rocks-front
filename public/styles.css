:root{
  --bg:#0b0f14; --fg:#e8f1ff;
  --hue-primary:207; --hue-accent:289; --neon:.7;
  --chip:rgba(8,16,24,.8); --chip-fg:#dbe8ff
}
*{ box-sizing:border-box }
html,body{ margin:0; padding:0; background:var(--bg); color:var(--fg);
  font:16px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif }

/* Top-Navigation */
.site-header{position:fixed;top:16px;left:0;right:0;display:flex;justify-content:center;z-index:20}
.site-nav ul{list-style:none;margin:0;padding:6px 10px;border-radius:12px;background:rgba(10,14,18,.6);backdrop-filter:blur(8px);display:flex;gap:8px}
.chip{appearance:none;border:0;border-radius:999px;padding:6px 12px;background:var(--chip);color:var(--chip-fg);cursor:pointer;font-weight:600}
.chip:hover{filter:brightness(1.15)}
.chip:focus-visible{outline:2px solid hsl(var(--hue-primary) 70% 60% / .8);outline-offset:2px}

/* Background Video + Tint */
.bg-video{
  position:fixed;inset:0;width:100%;height:100%;object-fit:cover;z-index:0;
  filter:blur(4px) brightness(.72) saturate(1.1);
  opacity:0; transition:opacity 600ms ease;
  will-change: opacity, filter; transform: translateZ(0);
}
.bg-video.visible{ opacity:.92; }
.tint{position:fixed;inset:0;z-index:1;pointer-events:none;
  background: radial-gradient(60% 70% at 80% 80%, rgba(193,44,245,.25), transparent 60%),
              radial-gradient(70% 60% at 20% 85%, rgba(0,169,255,.18), transparent 60%);}

/* Lite mode drastically reduces GPU/filters */
body.lite .bg-video{ filter:blur(2px) brightness(.78) saturate(1.05) }
body.lite .bubble-label{ box-shadow: 0 4px 12px rgba(0,0,0,.3) }

/* Stage */
.app{ position:relative; z-index:2; min-height:100svh; }

/* Logo */
.logo{
  position:absolute;left:50%;top:18vh;transform:translateX(-50%);
  font-size:clamp(44px,11vw,110px);letter-spacing:.5px;margin:0;
  text-shadow:
    0 0 12px hsl(var(--hue-primary) 100% 60% / .55),
    0 2px 8px rgba(0,0,0,.55), 0 18px 55px rgba(0,0,0,.6);
  background:linear-gradient(180deg, rgba(240,250,255,.95), rgba(220,235,255,.92));
  -webkit-background-clip:text; background-clip:text; color:transparent; font-weight:900;
}

/* Bubble canvas & labels */
#bubbles{ position:fixed; inset:0; z-index:3; pointer-events:none }
.labels{ position:fixed; inset:0; z-index:4; pointer-events:none }
.bubble-label{
  position:absolute; transform:translate(-50%, -50%); pointer-events:auto;
  padding:.4rem .7rem; border-radius:999px; white-space:nowrap;
  background:linear-gradient(180deg, rgba(8,16,24,.64), rgba(8,16,24,.6));
  backdrop-filter:blur(10px);
  color:#e7f3ff;font-weight:800;font-size:clamp(12px,2vw,15px);white-space:nowrap;
  text-shadow:0 2px 4px rgba(0,0,0,.45);
  pointer-events:auto;
  border:1px solid rgba(70,120,180,.4);
  box-shadow:0 6px 22px rgba(0,0,0,.35);
}

/* Modal */
.modal{position:fixed;inset:0;background:rgba(0,0,0,.45);backdrop-filter:blur(4px);display:none;z-index:40}
.modal[aria-hidden="false"]{display:flex;align-items:center;justify-content:center}
.modal__panel{width:min(960px,92vw);max-height:86vh;overflow:auto;background:rgba(8,12,18,.9);border:1px solid rgba(255,255,255,.12);border-radius:14px;box-shadow:0 10px 30px rgba(0,0,0,.6)}
.modal__content{padding:16px}
.modal__actions{display:flex;gap:8px;justify-content:flex-end;padding:0 16px 16px}
.ui.btn{padding:.55rem .8rem;border-radius:.6rem;border:1px solid rgba(255,255,255,.2);background:rgba(255,255,255,.06);color:#e8f1ff;cursor:pointer}
.ui.btn.ghost{background:transparent}
.ui.btn.active{outline:2px solid hsl(var(--hue-primary) 70% 60% / .5)}

/* Reduced data/motion */
@media (prefers-reduced-data: reduce), (prefers-reduced-motion: reduce){
  .bg-video{ filter:blur(3px) brightness(.75) saturate(1.05) }
}
